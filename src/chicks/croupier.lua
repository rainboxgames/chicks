--[[
-- This file is part of rainboxgames/chicks.
--
-- (c) 2015-2016 YouniS Bensalah <younis.bensalah@gmail.com>
--
-- For the full copyright and license information, please view the LICENSE
-- file that was distributed with this source code.
--]]

local Croupier = class('Croupier')

function Croupier.static:deal(number_of_colors)
    assert(number_of_colors == 0
        or number_of_colors == 2
        or number_of_colors == 3
        or number_of_colors == 4
        or number_of_colors == 6,
        "Illegal number of colors: must be 0, 2, 3, 4, or 6")

    local map
    if number_of_colors == 0 then
        map = {
                            0,
                           0, 0,
                          0, 0, 0,
                         0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                    0, 0, 0, 0, 0, 0, 0, 0, 0,
                   0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                              0, 0, 0, 0,
                                0, 0, 0,
                                  0, 0,
                                    0
        }
    elseif number_of_colors == 2 then
        map = {
                            1,
                           1, 1,
                          1, 1, 1,
                         1, 1, 1, 1,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                    0, 0, 0, 0, 0, 0, 0, 0, 0,
                   0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                              2, 2, 2, 2,
                                2, 2, 2,
                                  2, 2,
                                    2
        }
    elseif number_of_colors == 3 then
        map = {
                            1,
                           1, 1,
                          1, 1, 1,
                         1, 1, 1, 1,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                    0, 0, 0, 0, 0, 0, 0, 0, 0,
                   2, 0, 0, 0, 0, 0, 0, 0, 0, 3,
                  2, 2, 0, 0, 0, 0, 0, 0, 0, 3, 3,
                 2, 2, 2, 0, 0, 0, 0, 0, 0, 3, 3, 3,
                2, 2, 2, 2, 0, 0, 0, 0, 0, 3, 3, 3, 3,
                              0, 0, 0, 0,
                                0, 0, 0,
                                  0, 0,
                                    0
        }
    elseif number_of_colors == 4 then
        map = {
                            1,
                           1, 1,
                          1, 1, 1,
                         1, 1, 1, 1,
            2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0,
              2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                  2, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                    0, 0, 0, 0, 0, 0, 0, 0, 0,
                   0, 0, 0, 0, 0, 0, 0, 0, 0, 4,
                  0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4,
                 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4,
                0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4,
                              3, 3, 3, 3,
                                3, 3, 3,
                                  3, 3,
                                    3
        }
    else
        map = {
                            1,
                           1, 1,
                          1, 1, 1,
                         1, 1, 1, 1,
            2, 2, 2, 2, 0, 0, 0, 0, 0, 6, 6, 6, 6,
              2, 2, 2, 0, 0, 0, 0, 0, 0, 6, 6, 6,
                2, 2, 0, 0, 0, 0, 0, 0, 0, 6, 6,
                  2, 0, 0, 0, 0, 0, 0, 0, 0, 6,
                    0, 0, 0, 0, 0, 0, 0, 0, 0,
                   3, 0, 0, 0, 0, 0, 0, 0, 0, 5,
                  3, 3, 0, 0, 0, 0, 0, 0, 0, 5, 5,
                 3, 3, 3, 0, 0, 0, 0, 0, 0, 5, 5, 5,
                3, 3, 3, 3, 0, 0, 0, 0, 0, 5, 5, 5, 5,
                              4, 4, 4, 4,
                                4, 4, 4,
                                  4, 4,
                                    4
        }
    end

    return Board(map)
end

return Croupier
